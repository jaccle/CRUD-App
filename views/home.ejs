<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Login to Site</title>
    <!-- Latest compiled and minified JavaScript -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
    <!-- Latest compiled and minified CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css">
    <!-- Optional theme -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap-theme.min.css">
    <!-- Latest compiled and minified JavaScript -->
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js"></script>
    <!-- Sortable Tables -->
    <script src="sorttable.js"></script>
    <script src="./script.js"></script>
    <link rel="stylesheet" href="./css/darkly.css">
</head>

<body>
    
<div class="container-fluid">
    <div class="row vcenter">
        <div class="col-sm-4"></div>
<div class="col-sm-4">
    <div class="panel-group" id="accordion" role="tablist" aria-multiselectable="true">
  <div class="panel panel-default">
    <div class="panel-heading" role="tab" id="headingOne">
      <h4 class="panel-title">
        <a role="button" data-toggle="collapse" data-parent="#accordion" href="#collapseOne" aria-expanded="true" aria-controls="collapseOne">
          Parent Login
        </a>
      </h4>
    </div>
    <div id="collapseOne" class="panel-collapse collapse in" role="tabpanel" aria-labelledby="headingOne">
      <div class="panel-body">
        <h3>Log In</h3>
    <form action="/login" method="POST" class="form-group">
        <div class="form-group">
            <label for="loginEmail">Email</label>
            <input type="email" class="form-control" id="loginEmail" name="teacher.students.parent[email]"placeholder="something@example.com" autofocus required>
        </div>
        <div class="form-group">
            <label for="loginpwd">Password</label>
            <input type="password" class="form-control" id="loginpwd" name="parent[password]" placeholder="password" required>
        </div>
        <div class="btn-group">
    <button type="submit" class="btn btn-primary signin" >
        Log In
    </button>
    <!-- Button trigger modal -->
    <button type="button" class="btn btn-default signin" data-toggle="modal" data-target="#myModal">
        Enter Key
    </button>
    </div>
    </form>
</div>
    
      </div>
    </div>
  </div>
  <div class="panel panel-default">
    <div class="panel-heading" role="tab" id="headingTwo">
      <h4 class="panel-title">
        <a class="collapsed" role="button" data-toggle="collapse" data-parent="#accordion" href="#collapseTwo" aria-expanded="false" aria-controls="collapseTwo">
          Teacher Login
        </a>
      </h4>
    </div>
    <div id="collapseTwo" class="panel-collapse collapse" role="tabpanel" aria-labelledby="headingTwo">
      <div class="panel-body">
        <h3>Log In</h3>
    <form action="/login" method="POST" class="form-group">
        <div class="form-group">
            <label for="loginEmail">Email</label>
            <input type="email" class="form-control" id="loginEmail" name="teacher[email]"placeholder="something@example.com" autofocus required>
        </div>
        <div class="form-group">
            <label for="loginpwd">Password</label>
            <input type="password" class="form-control" id="loginpwd" name="teacher[password]" placeholder="password">
        </div>
        <button type="submit" class="btn btn-primary signin" >
        Log In
        </button>

        </form>
        <h3>Sign Up</h3>
            <form action="/teachers" method="POST">
                <div id="email" class="form-group">
                    <label for="email">Email <span id="newuser" style="display: none">(email is invalid or unavailable)</span></label>
                    <input type="email" class="form-control" id="user" name="teacher[email]" placeholder="email" required>
                </div>
                <div class="form-group">
                    <label for="pwd">Password (at least 5 characters)</label>
                    <input type="password" class="form-control" id="pwd" placeholder="password" name="teacher[password]" required>
                </div>
                <div class="form-group">
                    <label for="confirmpwd">Confirm Password</label>
                    <input type="password" class="form-control" id="confirmpwd" placeholder="verify password" required>
                </div>
                <button id="signup" type="submit" class="btn btn-default">Sign Up</button>
            </form>
      </div>
    </div>
  </div>





<!-- Modal -->
<div class="modal fade" role="dialog" aria-labelledby="#myModal" id="myModal">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
            </div>
            <div class="modal-body" role="document">
                <!-- student 'sign up' -->
                    <form method="POST" id="keyForm">
                        <div class="form-group">
                            <label for="userKey">Enter Key Given by teacher:</label>
                            <input type="text" class="form-control" id="userKey" name="student[_id]" placeholder="ex. 56043ab748b4e619339546af" autofocus required>
                        </div>
                        <div class="form-group">
                            <label for="email">Email address:</label>
                            <input type="email" class="form-control" id="email" name="student.parent1[email]" placeholder="Email" required>
                        </div>
                        <div class="form-group">
                            <label for="pwd">Choose a password (at least 5 characters)</label>
                            <input type="password" class="form-control" id="pwd" placeholder="password" name="student[password]" required>
                        </div>
                        <div class="form-group">
                            <label for="confirmpwd">Confirm Password</label>
                            <input type="password" class="form-control" id="confirmpwd" placeholder="verify password" required>
                        </div>
                        <button type="submit" class="btn btn-default" id="createParent" data-dismiss="modal">Save and return to login</button>
                    </form>
            </div>
            <div class="modal-footer">
            </div>
        </div>
        <!-- /.modal-content -->
    </div>
    <!-- /.modal-dialog -->
</div>
<!-- /.modal -->
<% var user = teacher || students  %>
<% console.log( user, teacher, students )  %>
<% if (user.id !== undefined && user.id !== null) { %>
    <a href="/logout">
            Logout
            <%= user.username %>
    </a>
<% } %>
</div>
<div class="col-sm-4"></div>
    </div>
</div>


</body>